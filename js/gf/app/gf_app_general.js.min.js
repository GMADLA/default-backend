gmad_console_debug_mode=false;if((typeof gmad_console)!=="function"){if((typeof console)!=="object"){function gmad_console(a){}}else{function gmad_console(a){if(gmad_console_debug_mode===true){console.log(a)}}}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}function isDefined(a){return(typeof a!=="undefined")}var menuOpen=false;function showHideMenu(){if(!menuOpen){$("#headerMenu1").fadeIn();$(".top_menu_click_to_show").hide();$(".top_menu_click_to_hide").show();$("#top_menu_layer_blocker").show();menuOpen=true}else{$("#headerMenu1").fadeOut();$(".top_menu_click_to_hide").hide();$(".top_menu_click_to_show").show();$("#top_menu_layer_blocker").hide();menuOpen=false}}function lockThisElement(b,d,a){if(d!=undefined&&d>0){if(a==undefined){a=false}var c=$(b);c.attr("disabled","disabled");if(a){c.hide()}setTimeout(function(){c.removeAttr("disabled");if(a){c.show()}},d)}}GmadUtils={regexEmail:/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/,asCssClass:function(a){return"."+a},asId:function(a){return"#"+a},isChecked:function(b){var a=$(b).attr("checked");if(!isDefined(a)||a!=="checked"){return false}return true},isValueEmpty:function(a){return($(a).val().trim().length===0)},validateLength:function(d,c,b){var a=d.length;if(a<c||a>=b){return false}return true},isEmail:function(a){return GmadUtils.regexEmail.test(a)},isDefined:function(a){return(typeof a!=="undefined")},validateType:function(a,b){if(b&&a){var c=false;if(b==="chars"){c=/^[a-zA-Z]*\s{0,1}[a-zA-Z]*\s*$/i}else{if(b==="state"){c=/^[a-zA-Z]{2,}$/}else{if(b==="numbers"){c=/^[0-9]*$/}else{if(b==="zip"){c=/^[0-9]{5}$/}else{if(b==="zipplusfour"){c=/^[0-9]{4}$/}else{if(b==="phone"){c=/^[1-9]\d{2}\-?\d{3}\-?\d{4}$/}else{if(b==="email"){c=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/}}}}}}}if(c&&!c.test(a)){return false}else{return true}}return false}};function CGmadException(d,c,a,e,b){if(!isDefined(b)){return{name:isDefined(a)?a:"noName",level:isDefined(e)?e:"noLevel",msg:d,htmlMsg:isDefined(c)?c:""}}else{b.name=a;b.level=e;b.msg=d;b.htmlMsg=c;return b}}function CGmadAppForm(a){this.myThis=this;this.formId=a;this.bValid=false;this.cssClassCustomValidation="gen_validation_err";this.callbackUpdateAjaxResult=function(c){$("#main_form_loading_overlay").fadeIn();try{var b=$("#page_holder_middle");$("#div_main_form_holder").fadeOut(function(){b.html(c);$("#div_main_form_holder").fadeIn();$("input").filter(":visible:first").focus()})}catch(d){gmad_console(d)}};this.ajaxAfterValidateObject={type:"POST",url:"app_form_ajax",dataType:"html",async:false,data:"",cache:false,success:this.callbackUpdateAjaxResult,error:this.ajaxFailMessage};this.ajaxNavigateObject={type:"get",url:"",dataType:"html",async:false,cache:false,success:function(b){this.callbackUpdateAjaxResult(b)},error:function(){this.ajaxFailMessage()}};this.navigationDirection=function(c,b){}}CGmadAppForm.prototype.validate=function(){return true};CGmadAppForm.prototype.afterValidateAjax=function(d,f,a){if(typeof GmadAppForm==="undefined"){throw new exception("Misconfigured javascript for app form")}if(a===false){var e=GmadAppForm;gmad_console("Ajax Send!");if(!a){var c=$(d).serialize();var b=e.ajaxAfterValidateObject;b.data=c;b.success=e.callbackUpdateAjaxResult;$.ajax(b)}}return false};CGmadAppForm.prototype.ajaxFailMessage=function(){gmad_console("Ajax Failed!")};CGmadAppForm.prototype.ajaxNavigate=function(b,c){gmad_console("Ajax Navigate");var a=c.ajaxNavigateObject;a.url=b;gmad_console("AJAX URL : "+b);a.success=c.callbackUpdateAjaxResult;$.ajax(a);return false};CGmadAppForm.prototype.getYiiErrorNode=function(f,b,i,e,g){var h="_";var a=f+h+i+h+b+h+e;if(isDefined(g)){a+=h+g}var c=$(GmadUtils.asId(a));if(c===null){return false}return c};CGmadAppForm.prototype.helpGetInfoFromYiiAttribute=function(b){var d=$(b).attr("id");var c=d.split("_");var a=(c[2])?c[2]:FALSE;return[c[1],a]};CGmadAppForm.prototype.helpGetInfoFromYiiAttributeId=function(b){var a=$(a);return this.helpGetInfoFromYiiAttribute(a)};CGmadAppForm.prototype.helpGetArrayCounters=function(c){var b=c.split("_");var a=(b[2])?b[2]:FALSE;return new Array(b[1],a)};CGmadAppForm.prototype.getArrayCountsFromNode=function(a){return this.helpGetArrayCounters($(a).attr("id"))};CGmadChooseQuote.prototype=new CGmadAppForm();function CGmadChooseQuote(a){CGmadAppForm.apply(this,arguments);this.arrayOptionIds=a}CGmadChooseQuote.prototype.validate=function(){var b=false;for(var a=0;a<this.arrayOptionIds.length;a++){var c=$("#"+this.arrayOptionIds[a]);if(isDefined(c)&&GmadUtils.isChecked(c)){b=true;break}}if(b){return true}else{return false}};CGmadBeneficiary.prototype=new CGmadAppForm();function CGmadBeneficiary(b,a){CGmadAppForm.apply(this,arguments);this.criteriaCheckExplanation=b;this.checkExplanation=false;this.explanationErrorMessage='Please explain "Other" relationship.';this.validateOtherBeneficiary=function(d,f){var c="Other";d=$(d);f=$(f);var e=d.val();this.checkExplanation=(e===c);if(this.checkExplanation){f.removeClass("uiSpecialRequired")}else{f.addClass("uiSpecialRequired")}if(this.checkExplanation){f.parent().slideDown()}else{f.parent().slideUp();f.val("")}return false}}CGmadBeneficiary.prototype.afterValidateAttributeRelationship=function(e,d,f,a){var c=d.inputID.replace(/Beneficiary_(\d+)_\S+/,"$1");var b=arrBeneficiaryObjects[c];if(!a&&d.value===b.criteriaCheckExplanation){b.checkExplanation=true}else{b.checkExplanation=false}};CGmadBeneficiary.prototype.beforeValidateAttributeExplanation=function(f,e){var d=e.inputID.replace(/Beneficiary_(\d+)_\S+/,"$1");var b=arrBeneficiaryObjects[d];var c=!b.validateExplanation(e.id);if(c){var a=$(GmadUtils.asId(e.id));var g=null;if(a.val().length===0){c=true;g=[];var h=[];h[0]=b.explanationErrorMessage;g[e.id]=h}else{$("#"+e.id).removeClass("errors")}f=$(f);$.fn.yiiactiveform.updateInput(e,g,f)}return !c};CGmadBeneficiary.prototype.validateExplanation=function(d){var c=d.replace(/Beneficiary_(\d+)_\S+/,"$1");var b=arrBeneficiaryObjects[c];var a=$("#"+d);if(b.checkExplanation&&a.val().length===0){return false}return true};CGmadHealthQuestions.prototype=new CGmadAppForm();function CGmadHealthQuestions(){CGmadAppForm.apply(this,arguments);this.radioYes="Y";this.radioNo="N"}CGmadHealthQuestions.prototype.hideErrors=function(a){if(!isDefined(a)){a=this.cssClassCustomValidation}$("."+a).hide()};CGmadHealthQuestions.prototype.postRenderFilter=function(){};CGmadHealthQuestions.prototype.getErrorNode=function(c){var a=this;var b=$("#ChildHealthQuestion"+c);if(b.length===0){b=$("#HealthQuestion"+c)}if(b.length===0){return false}return b};CGmadHealthQuestions.prototype.pushErrorMessage=function(d,c){var a=this;var b=a.getErrorNode(c);if(b!=false){b.html(d);b.show();return true}};CGmadHealthQuestions.prototype.removeErrorMessage=function(c){var a=this;var b=a.getErrorNode(c);if(b!==false){b.hide()}};CGmadHealthQuestions.prototype.showLongAnswer=function(b,a,c){if(b==="Y"){$("#longAnswerHolder_"+a+"_"+c).fadeIn()}else{$("#longAnswerHolder_"+a+"_"+c).hide()}$("#HealthQuestion_"+a+"_"+c+"_shortAnswer").val(b)};CGmadHealthQuestions.prototype.validate=function(){var a=this;var b=true;$(".check_radio_onload").filter("[value=Y]").each(function(f,c){var d=$(this).attr("checked");if(isDefined(d)&&d==="checked"){parts=a.getArrayCountsFromNode($(this));appCounter=parts[0];questNumber=parts[1];var e="#HealthQuestion_"+appCounter+"_"+questNumber;var g=$(e+"_longAnswer");if(GmadUtils.isValueEmpty(g)){g=$(e+"_longAnswer_em_");g.html('Please explain your "Yes" answer:');g.show();this.bValid=b=false}else{g=$(e+"_longAnswer_em_");g.hide()}}});return b};CGmadChildHealthQuestions.prototype=new CGmadHealthQuestions();function CGmadChildHealthQuestions(){CGmadHealthQuestions.apply(this,arguments);this.arrActivePolicyIds=[];this.idPrefixLongAnswerHolder="#longAnswerHolder_";this.errMsgYesAnswer="Please explain why you answered yes:";this.errMsgRequiresOneChild="Please choose a child and describe the ailment."}CGmadChildHealthQuestions.prototype.initialize=function(a){this.arrActivePolicyIds=a};CGmadChildHealthQuestions.prototype.postRenderFilter=function(){var a=this;$(".check_radio_onload").filter("[value=Y]").each(function(e,c){var b=$(this);var g=a.getArrayCountsFromNode(b);var j=parseInt(g[0])+"_"+parseInt(g[1]);var f=$(a.idPrefixLongAnswerHolder+j);var h=b.val();var d=b.attr("checked");if(isDefined(d)&&d==="checked"){f.show()}else{f.hide()}})};CGmadChildHealthQuestions.prototype.getErrorNode=function(c){var a=this;var b=$("#ChildHealthQuestion"+c);if(b.length===0){b=$("#HealthQuestion"+c)}if(b.length===0){return false}return b};CGmadChildHealthQuestions.prototype.showLongAnswer=function(c,b,e){var a=this;var d=b+"_"+e;if(c==a.radioYes){$(a.idPrefixLongAnswerHolder+d).fadeIn()}else{$(a.idPrefixLongAnswerHolder+d).hide()}$("#HealthQuestion_"+d+"_shortAnswer").val(c)};CGmadChildHealthQuestions.prototype.validate=function(){var a=this;var g=[];var b=true;var e=this.arrActivePolicyIds.length;var d=0;$(".check_radio_onload").filter("[value="+this.radioYes+"]").each(function(k,j){myThis=$(this);if(GmadUtils.isChecked(myThis)){var l=a.validateChildLongQuestions(myThis,d);if(l===true){g[d]=true}else{g[d]=new Array(false);b=l&&b}}else{g[d]=new Array(null)}d++});d=0;$(".check_radio_onload").filter("[value="+a.radioNo+"]").each(function(k,j){if(g[d]!==true){if(g[d][0]===null){myThis=$(this);if(GmadUtils.isChecked(myThis)){g[d]=true}else{b=false;g[d].push(null)}}}d++});d=0;for(d in g){var f=null;var c=g[d];var h="_0_"+d+"_shortAnswer_em_";if(c===true){continue}if(c[0]===null&&c[1]===null){a.pushErrorMessage("Please answer yes or no",h)}}a.bValid=b;return a.bValid};CGmadChildHealthQuestions.prototype.validateChildLongQuestions=function(k,l){var j=this;var h=this.arrActivePolicyIds.length;var n=true;var b;if($(k).hasClass("apply_all_long_answer")){if($("#ChildHealthQuestion_0_"+l+"_longAnswer").val().trim().length===0){b=$("#HealthQuestion_0_"+l+"_shortAnswer_em_");b.html('Please explain your "Yes" answer:');b.show();return false}else{b=$("#HealthQuestion_0_"+l+"_shortAnswer_em_").hide();return true}}var a=false;var d=false;var e;var g="#ChildHealthQuestionLongAnswer_";for(var f=0;f<h;f++){e=$(g+f+"_"+l+"_policyId");var c=e.attr("checked");if(isDefined(c)&&c==="checked"){d=true;var m=g+f+"_"+l;b=$(m+"_longAnswer");if(!(j.validateSingleLongAnswer(b)&&true)){b=$(m+"_longAnswer_em_");b.html(j.errMsgYesAnswer);b.show();a=true}}}if(!d||a){this.bValid=n=false;e=$("#ChildHealthQuestion_0_"+l+"_shortAnswer_em_");if(!d&&!a){e.html(j.errMsgRequiresOneChild);e.show()}else{e.hide()}}return n};CGmadChildHealthQuestions.prototype.validateSingleLongAnswer=function(a){if($(a).val().trim().length!==0){return true}return false};CGmadPayment.prototype=new CGmadAppForm();function CGmadPayment(){CGmadAppForm.apply(this,arguments)}CGmadPayment.prototype.changePaymentType=function(a,b){$("#Payment_"+b+"_paymentType").val(a)};function getArrayCountsFromNode(a){return helpGetArrayCounters($(a).attr("id"))}function helpGetArrayCounters(c){var b=c.split("_");var a=(b[2])?b[2]:FALSE;return new Array(b[1],a)}function handleChosenButton(c,b){var a=$(c).closest(".subForm");a.find(".choose_quote_button").removeClass("choose_quote_button_default").removeClass("choose_quote_button_yes").addClass("choose_quote_button_disabled");$(c).removeClass("choose_quote_button_default").removeClass("choose_quote_button_disabled").addClass("choose_quote_button_yes");a.find(".chooseByRadio").attr("checked",false);a.find("input:radio[value='"+b+"']").attr("checked",true);appIns.nextStep()}function calculateAge(d){var e=new Date(d);var c=new Date;c.setHours(0,0,0,0);var b=31557600000;var a=((c-e)/b);gmad_console("Age calculated at: "+a);return a}function updateCharCount(d,e,a){var c=e.value.length;var b=30-c;$("#"+d+"_charCount"+a).html(b)}function assignValue(b,a,c){if(c=="y"){$("#"+b+"_longHolder_"+a).show();$("#"+b+"_hide_"+a).val("y")}else{$("#"+b+"_longHolder_"+a).hide();$("#"+b+"_hide_"+a).val("n")}}if(typeof(renderFbLike)=="undefined"){function renderFbLike(){$("#fb_like_div").html('<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2Fpages%2FGlobe-Life-And-Accident-Insurance-Company%2F327814440569624&amp;send=false&amp;layout=button&amp;width=70&amp;show_faces=false&amp;action=like&amp;colorscheme=dark&amp;font=lucida+grande&amp;height=35&amp;share=false&amp;appId=328144860541863" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:53px; height:23px;" allowTransparency="true"></iframe>')}};